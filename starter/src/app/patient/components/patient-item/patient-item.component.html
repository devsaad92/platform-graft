<div class="wrapper">
  <div fxLayout="row" fxLayoutWrap="wrap">
    <div fxFlex.gt-sm="40" fxFlex="100">
      <app-patient-card *ngIf="switch && switchInfor && informations"
        [patient]="patient"
        (updatePatientForm)="updatePatientForm($event)" 
        (addInforForm)="addInforForm($event)"
        (afficherInforForm)="afficherInforForm($event)"
        >
      </app-patient-card>
      <app-edit-patient *ngIf="!switch"
        [patient]="patient"
        [patientId]="patientId"
        (annulerPatientForm)="annulerPatientForm($event)"
        (updateForm)="updateForm($event)">
      </app-edit-patient>
      <app-information-form *ngIf="!switchInfor" (annulerInformationForm)="annulerInformationForm($event)"></app-information-form>
      <app-information *ngIf="!informations"
        [informations]="patient.informations"
        (return)="return($event)">
      </app-information>
    </div>
    <div fxFlex.gt-sm="60" fxFlex="100">
      <div fxLayout="column">
        <mat-card>
          <mat-tab-group>
            <mat-tab>
              <ng-template matTabLabel>Chat</ng-template>
              <mat-tab-group (selectedTabChange)="tabChanged($event)">
                <mat-tab>
                  <ng-template matTabLabel>Clinique</ng-template>
                  <!-- <app-chat [messages]="patient.cliniques" [patientId]="patientId" [index]="index"></app-chat> -->
                  <app-chat [messages]="cliniques" [patientId]="patientId" [index]="index"></app-chat>
                </mat-tab>
                <mat-tab>
                  <ng-template matTabLabel>Instruction</ng-template>
                  <app-chat [messages]="instructions" [patientId]="patientId" [index]="index"></app-chat>
                </mat-tab>
              </mat-tab-group>
            </mat-tab>
            <mat-tab>
              <ng-template matTabLabel>Bio</ng-template>
              <mat-tab-group>
                <mat-tab>
                  <ng-template matTabLabel>Chimie</ng-template>
                  <mat-card-content>
                    <app-bilans *ngIf="switchbilan" [bilans]="patient.bilans" (ajoutBilanForm)="ajoutBilanForm($event)"></app-bilans>
                     <app-bilan-from *ngIf="!switchbilan" (annulerForm)="annulerForm($event)"></app-bilan-from>
                  </mat-card-content>
                </mat-tab>
                <mat-tab>
                  <ng-template matTabLabel>HÃ©mathologie</ng-template>
                
                </mat-tab>
              </mat-tab-group>
            </mat-tab>
            <mat-tab>
              <mat-card-content>
                <ng-template matTabLabel>Photos</ng-template>
                <!-- <mat-grid-list cols="3">
                  <mat-grid-tile *ngFor="let id of images" rowHeight="4:3">
                    <img src="https://source.unsplash.com/600x600?{{ id }}" alt="Card image cap" />
                    <mat-grid-tile-footer>
                      <h3 matLine>{{ id }}</h3>
                      <span matLine>Gallery image: {{ id }}</span>
                      <mat-icon>favorite</mat-icon>
                    </mat-grid-tile-footer>
                  </mat-grid-tile>
                </mat-grid-list> -->

                <mat-grid-list cols="3">
                  <mat-grid-tile *ngFor="let image of patient.uploads" rowHeight="4:3">
                    <img src="C:/Users/Saad/Desktop/PFE/{{ image.file }}" alt="Card image cap" />
                    <mat-grid-tile-footer>
                      <h3 matLine>{{ image.id }}</h3>
                      <span matLine>{{image.title }}</span>
                      <mat-icon>favorite</mat-icon>
                    </mat-grid-tile-footer>
                  </mat-grid-tile>
                </mat-grid-list>

                <!-- <app-upload-form></app-upload-form> -->
              </mat-card-content>
            </mat-tab>
          </mat-tab-group>
        </mat-card>
      </div>
    </div>
  </div>
</div>