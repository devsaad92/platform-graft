<div class="wrapper">
  <mat-card>
  <div fxLayout="row" fxLayoutWrap="wrap">
    <div fxFlex.gt-sm="40" fxFlex="100">
      <mat-card-content>
        <form #f="ngForm">
        <div fxLayout="column">
          <mat-form-field style="width:100%">
            <input matInput [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" placeholder="Date Time" [(ngModel)]="traitement.date" name="date" required>
            <owl-date-time #dt1></owl-date-time>
          </mat-form-field>
          <mat-form-field style="width:100%">
            <textarea matInput placeholder="Description" rows="3" [(ngModel)]="traitement.text" name="text" required></textarea>
          </mat-form-field>
          <button mat-raised-button [disabled]="!f.valid" color="primary" (click)="addPatientTraitement()"><mat-icon>add</mat-icon>Ajouter</button>
        </div>
        </form>
      </mat-card-content>
    </div>
    <div fxFlex.gt-sm="60" fxFlex="100">
      <ngx-datatable *ngIf='traitements'
        class="material" [rows]="traitements"
        [columnMode]="'force'" [headerHeight]="50"
        [footerHeight]="50" [rowHeight]="50"
        [scrollbarV]="true" [limit]="6"
        [selected]="selected"
        [selectionType]="'single'"
        (select)="onSelectRow($event)">
        <ngx-datatable-column [width]="100" name="Date Time" prop="date" [resizeable]="false"> 
        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
          {{ value | date: 'yyyy-MM-dd HH:mm' }}
        </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column [width]="150" name="Description" prop="text" [resizeable]="false"></ngx-datatable-column>
      </ngx-datatable>
    </div>
  </div>
  </mat-card>
</div>

